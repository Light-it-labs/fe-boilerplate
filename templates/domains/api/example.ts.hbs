import type { ServiceResponse } from "~/config/api";
import { api } from "~/config/api";

export interface BaseExample {
  id: number;
  name: string;
  address: string;
}

export const getAll{{pascalCase name}} = async () => {
  const { data } = await api.get<ServiceResponse<BaseExample[]>>(
    `/{{kebabCase name}}`,
    {
      params: {
        page_size: 100,
        page: 1,
        order_by: "created_at",
      },
    },
  );

  return data.data;
};

export const get{{pascalCase name}} = async (id: string) => {
  const { data } = await api.get<ServiceResponse<BaseExample>>(
    `/{{kebabCase name}}/${id}`,
  );

  return data.data;
};

export const create{{pascalCase name}} = async (body: Omit<BaseExample, "id">) => {
  const { data } = await api.post<ServiceResponse<BaseExample>>(
    `/{{kebabCase name}}`,
    body,
  );

  return data.data;
};

export const update{{pascalCase name}} = async (body: BaseExample) => {
  const { data } = await api.put<ServiceResponse<BaseExample>>(
    `/{{kebabCase name}}/${body.id}`,
    body,
  );

  return data.data;
};

export const delete{{pascalCase name}} = async (id: string) => {
  const { data } = await api.delete<ServiceResponse<void>>(
    `/{{kebabCase name}}/${id}`,
  );

  return data.status;
};
